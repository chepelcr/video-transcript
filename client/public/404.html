<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Transcription Service</title>
    <script>
        // GitHub Pages SPA redirect handling for subdirectory deployment
        console.log('404.html activated for:', window.location.pathname);
        console.log('Full URL:', window.location.href);
        
        const fullPath = window.location.pathname;
        const basePath = '/video-transcript';
        
        // Check if we're accessing the base path directly
        if (fullPath === basePath || fullPath === basePath + '/') {
            console.log('Direct access to base path - redirecting to index');
            window.location.replace(basePath + '/');
            return;
        }
        
        // Extract the route after removing base path
        let route = fullPath;
        if (fullPath.startsWith(basePath)) {
            route = fullPath.replace(basePath, '') || '/';
        }
        
        const query = window.location.search;
        const hash = window.location.hash;
        
        // Handle direct language routes like /video-transcript/es
        if (route === '/es' || route === '/en') {
            console.log('Direct language route access:', route);
        }
        
        // Always redirect through query parameter for SPA routing
        const redirectUrl = basePath + '/?p=' + encodeURIComponent(route + query + hash);
        console.log('404 redirect:', fullPath, 'â†’', redirectUrl);
        window.location.replace(redirectUrl);
    </script>
</head>
<body>
    <noscript>
        <meta http-equiv="refresh" content="0; url=/video-transcript/">
    </noscript>
</body>
</html>